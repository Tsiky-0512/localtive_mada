"use strict";(self.webpackChunkownily=self.webpackChunkownily||[]).push([[231],{4231:(x,d,n)=>{n.r(d),n.d(d,{PropertiesModule:()=>N});var m=n(6814),l=n(800),i=n(6223),y=n(3942);const P=JSON.parse('[{"label":"Loyer","controlName":"loyer","constraintList":["min","required"]},{"label":"Surface(m2)","controlName":"surface","constraintList":["min","required"]},{"label":"Adresse postale","controlName":"adressePostale","constraintList":["required"]}]');var C=n(6726),t=n(5879),f=n(7589),c=n(9157),h=n(8525),T=n(3680),g=n(2296),p=n(1311),Z=n(9753);function A(e,a){if(1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&e){const o=t.oxw();t.xp6(1),t.Oqu(o.errorMessages.required)}}function b(e,a){if(1&e&&(t.ynx(0),t.TgZ(1,"div",4)(2,"div",5),t._UZ(3,"app-input",14),t.qZA()(),t.BQk()),2&e){const o=a.$implicit,r=t.oxw();t.xp6(3),t.Q6J("label",o.label)("form",r.form)("controlName",o.controlName)("constraintList",o.constraintList)}}let v=(()=>{class e extends C._{constructor(o,r,s,u){super(),this.fb=o,this.route=r,this.service=s,this.router=u,this.afterResult=["/biens","liste"],this.mode={title:"Ajout de bien",buttonText:"Valider",fn:this.service.create},this.inputs=P,this.errorMessages=y.Q,this.form=this.fb.group({typeBien:["",i.kI.required],loyer:[0,[i.kI.min(0),i.kI.required]],surface:[null,[i.kI.required,i.kI.min(0)]],adressePostale:["",i.kI.required]})}ngOnInit(){const o=this.route.snapshot.params.id;o&&(this.mode={title:"Modification d'un bien",buttonText:"Modifier",fn:this.service.update},this.form.addControl("_id",new i.NI([""],i.kI.required)),this.service.findById(o).then(r=>{this.form.patchValue(r)}))}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(i.qu),t.Y36(l.gz),t.Y36(f.C),t.Y36(l.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-properties-form"]],features:[t.qOj],decls:23,vars:5,consts:[[1,"mb-4"],[1,"mb-0"],[1,"container"],[1,"form",3,"formGroup"],[1,"c-row"],[1,"c-col-12","mb-2"],["appearance","outline"],["formControlName","typeBien"],["value","maison"],["value","appartement"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"c-col-12"],["mat-raised-button","","color","primary",3,"click"],[3,"label","form","controlName","constraintList"]],template:function(o,r){if(1&o&&(t.TgZ(0,"c-card",0)(1,"c-card-header")(2,"h1",1),t._uU(3),t.qZA()(),t.TgZ(4,"c-card-body")(5,"div",2)(6,"form",3)(7,"div",4)(8,"div",5)(9,"mat-form-field",6)(10,"mat-label"),t._uU(11,"Type"),t.qZA(),t.TgZ(12,"mat-select",7)(13,"mat-option",8),t._uU(14,"Maison"),t.qZA(),t.TgZ(15,"mat-option",9),t._uU(16,"Appartement"),t.qZA()(),t.YNc(17,A,2,1,"mat-error",10),t.qZA()()(),t.YNc(18,b,4,4,"ng-container",11),t.TgZ(19,"div",4)(20,"div",12)(21,"button",13),t.NdJ("click",function(){return r.validate()}),t._uU(22),t.qZA()()()()()()()),2&o){let s;t.xp6(3),t.Oqu(r.mode.title),t.xp6(3),t.Q6J("formGroup",r.form),t.xp6(11),t.Q6J("ngIf",null==(s=r.form.get("typeBien"))?null:s.hasError("required")),t.xp6(1),t.Q6J("ngForOf",r.inputs),t.xp6(4),t.Oqu(r.mode.buttonText)}},dependencies:[m.sg,m.O5,c.KE,c.hX,c.TO,h.gD,T.ey,i._Y,i.JJ,i.JL,i.sg,i.u,g.lW,p.AkF,p.nkx,p.yue,Z.a],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}"]}),e})();var F=n(2802),L=n(6731);const M=[{path:"",redirectTo:"/",pathMatch:"full"},{path:"ajout",component:v,pathMatch:"full",data:{title:"Ajout de bien"}},{path:"modification/:id",component:v,pathMatch:"full",data:{title:"Modification de bien"}},{path:"liste",component:(()=>{class e extends F.J{constructor(o,r){super(),this.service=o,this.router=r,this.titles=["Type","Loyer","Surface","Adresse postale"],this.getters=[s=>s.typeBien,s=>s.loyer,s=>s.surface,s=>s.adressePostale],this.updateCommand=["/biens","modification"]}ngOnInit(){this.find()}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(f.C),t.Y36(l.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-properties-list"]],features:[t.qOj],decls:7,vars:6,consts:[[1,"mb-0"],[3,"titles","getters","data","actions","count","pageSize","page"]],template:function(o,r){1&o&&(t.TgZ(0,"c-card")(1,"c-card-header")(2,"h1",0),t._uU(3,"Liste des biens"),t.qZA()(),t.TgZ(4,"c-card-body")(5,"app-paginated-table",1),t.NdJ("page",function(u){return r.find(u)}),t.qZA()()(),t._UZ(6,"br")),2&o&&(t.xp6(5),t.Q6J("titles",r.titles)("getters",r.getters)("data",r.data)("actions",r.actions)("count",r.count)("pageSize",10))},dependencies:[p.AkF,p.nkx,p.yue,L.v]}),e})(),pathMatch:"full",data:{title:"Liste des biens"}}];let J=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[l.Bz.forChild(M),l.Bz]}),e})();var O=n(2032),I=n(1165);let N=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[m.ez,J,O.c,h.LD,i.UX,g.ot,p.AkF,p.nkx,p.yue,I.X]}),e})()}}]);